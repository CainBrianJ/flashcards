<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Italian Flashcard Matching</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f6f6f6;
    color: #333;
    margin: 0;
    padding: 20px;
    text-align: center;
  }
  h1 {
    margin-bottom: 20px;
  }
  .game-container {
    display: flex;
    justify-content: center;
    gap: 50px;
    flex-wrap: wrap;
  }
  .column {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .card {
    background: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    cursor: pointer;
    min-width: 120px;
    transition: all 0.2s ease;
    user-select: none;
  }
  .card.selected {
    background: #d0ebff;
    box-shadow: 0 0 10px #74c0fc;
  }
  .card.correct {
    background: #d3f9d8;
    text-decoration: line-through;
    cursor: default;
    opacity: 0.7;
  }
  .card.wrong {
    background: #ffa8a8;
    animation: shake 0.3s;
  }
  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }
  #next-round {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1em;
    cursor: pointer;
  }
</style>
</head>
<body>
<h1>Italian Flashcard Matching</h1>
<div class="game-container">
  <div id="english-column" class="column"></div>
  <div id="italian-column" class="column"></div>
</div>
<button id="next-round" style="display:none;">Next Round</button>

<script>

const words = [
["persona", "person"],
["gente", "people, person"], 

["uomo", "man"], 

["donna", "woman"], 

["famiglia", "family"], 

["bambino", "child"],
["padre", "father"], 

["madre", "mother"], 

["figlio", "son"], 

["figlia", "daughter"], 

["mondo", "world"], 

["paese", "country (nation)"], 

["stato", "state"], 

["campagna", "country (rural area)"], 

["città", "city"], 

["strada", "street"], 

["via", "street, way"], 

["casa", "house"], 

["porta", "door"], 

["stanza", "room"], 

["tempo", "time"], 

["anno", "year"], 

["anni", "years"], 

["mese", "month"], 

["settimana", "week"], 

["giorno", "day"], 

["mattina", "morning"], 

["sera", "evening"], 

["notte", "night"], 

["ora", "hour"], 

["amore", "love"], 

["caso", "casi", "case, affair"], 

["capo", "boss"], 

["cosa", "thing"], 

["cuore", "heart"], 

["accanto", "beside"], 

["diritto", "straight, law"], 

["fatto", "fact"], 

["modo", "manner"], 

["forza", "strength"], 

["uno", "one"], 

["due", "two"], 

["tre", "three"], 

["quattro", "four"], 

["cinque", "five"], 

["cento", "hundred"], 

["mille", "thousand"], 

["primo", "first"], 

["secondo", "second"], 

["terzo", "third"], 

["alto", "high"], 

["aperto", "open"], 

["bene", "well"], 

["bello", "beautiful"], 

["buon", "good"], 

["caro", "expensive, cherished"], 

["cattivo", "bad"], 

["certo", "sure, certain"], 

["giovane", "young"], 

["grande", "large"], 

["alcuni", "some, certain"], 

["alcuno", "none, without"], 

["altro", "other"], 

["ancore", "still"], 

["destra", "right (direction)"], 

["diverso", "several"], 

["dritto", "right (direction)"], 

["dopo", "after"], 

["forse", "maybe"], 

["già", "already"], 

["a", "to"], 

["al", "to"], 

["con", "with"], 

["di", "from"], 

["da", "to, from, since"], 

["fino", "until"], 

["in", "in"], 

["nel", "in"], 

["per", "by, for"], 

["senza", "without"], 

["quanto", "how many"], 

["quando", "when"], 

["come", "how"], 

["", "like"], 

["dove", "where"], 

["chi", "who"], 

["che", "that, which"], 

["cosa", "what"], 

["quale", "which"], 

["perché", "why, because"], 

["ma", "but"], 

["o", "or"], 

["e", "and"], 

["dunque", "so"], 

["quindi", "so"], 

["ne", "neither"], 

["se", "if"], 

["allora", "so, then"], 

["difatti", "in fact, indeed"], 

["anche", "also"], 

["Buongiorno", "Hello"], 

["Arrivederci", "Goodbye"], 

["Ciao", "Hi"], 

["Grazie (mille)", "Thank you (very much)"], 

["Per favore", "Please"], 

["Scusi", "Excuse me / Sorry"], 

["Mi chiamo…", "My name is…"],

["Piacere", "It’s a pleasure [to meet you]."],

];

// Weighted random: top 5 in this demo get more weight
function getWeightedRandomWords(count) {
  const weighted = [];
  words.forEach((pair, index) => {
    const weight = index < 0 ? 2 : 1;
    for (let i = 0; i < weight; i++) {
      weighted.push(pair);
    }
  });
  
  const chosen = [];
  const used = new Set();
  while (chosen.length < count) {
    const randomPair = weighted[Math.floor(Math.random() * weighted.length)];
    const key = randomPair[0] + "-" + randomPair[1];
    if (!used.has(key)) {
      used.add(key);
      chosen.push(randomPair);
    }
  }
  return chosen;
}

let selectedEnglish = null;
let matchesLeft = 0;

function renderGame() {
  const set = getWeightedRandomWords(10);
  matchesLeft = set.length;
  const englishCol = document.getElementById("english-column");
  const italianCol = document.getElementById("italian-column");
  englishCol.innerHTML = "";
  italianCol.innerHTML = "";
  document.getElementById("next-round").style.display = "none";

  // Shuffle Italian words
  const italianShuffled = [...set].sort(() => Math.random() - 0.5);

  set.forEach(([en, it]) => {
    const enCard = document.createElement("div");
    enCard.className = "card";
    enCard.textContent = en;
    enCard.dataset.match = it;
    enCard.addEventListener("click", () => selectEnglish(enCard));
    englishCol.appendChild(enCard);
  });

  italianShuffled.forEach(([en, it]) => {
    const itCard = document.createElement("div");
    itCard.className = "card";
    itCard.textContent = it;
    itCard.dataset.match = it;
    itCard.addEventListener("click", () => selectItalian(itCard));
    italianCol.appendChild(itCard);
  });
}

function selectEnglish(card) {
  if (card.classList.contains("correct")) return;
  document.querySelectorAll("#english-column .card").forEach(c => c.classList.remove("selected"));
  selectedEnglish = card;
  card.classList.add("selected");
}

function selectItalian(card) {
  if (!selectedEnglish || card.classList.contains("correct")) return;

  if (selectedEnglish.dataset.match === card.dataset.match) {
    selectedEnglish.classList.add("correct");
    card.classList.add("correct");
    selectedEnglish.classList.remove("selected");
    selectedEnglish = null;
    matchesLeft--;
    if (matchesLeft === 0) {
      document.getElementById("next-round").style.display = "inline-block";
    }
  } else {
    card.classList.add("wrong");
    setTimeout(() => {
      card.classList.remove("wrong");
    }, 300);
  }
}

document.getElementById("next-round").addEventListener("click", renderGame);

renderGame();
</script>
</body>
</html>