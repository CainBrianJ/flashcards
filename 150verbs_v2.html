<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Italian Flashcard Matching</title>
<style>
  :root {
    /* Italian Flag Theme Colors */
    --theme-green: #009246;
    --theme-white: #ffffff;
    --theme-red: #ce2b37;
    
    /* UI Colors */
    --background-color: #f4f6f8;
    --text-color: #333;
    --selected-background: #e0e0e0; /* A neutral gray for selection */
    --correct-background: var(--theme-green);
    --wrong-background: var(--theme-red);
    
    /* General Styles */
    --border-radius: 12px;
    --box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  body {
    font-family: var(--font-family);
    background: var(--background-color);
    color: var(--text-color);
    margin: 0;
    padding: 20px;
    text-align: center;
  }

  h1 {
    margin-bottom: 30px;
    color: var(--theme-green); /* Use theme green for the title */
  }

  .game-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 30px;
    max-width: 800px;
    margin: 0 auto;
  }

  .column {
    display: flex;
    flex-direction: column;
    gap: 15px;
    flex: 1;
    min-width: 250px;
  }

  .card {
    background: var(--theme-white); /* Cards are white by default */
    padding: 15px;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 60px;
    text-align: center;
    word-break: break-word;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
  }

  .card.selected {
    background: var(--selected-background);
    transform: scale(1.05);
  }

  .card.correct {
    background: var(--correct-background);
    color: var(--theme-white); /* White text on green background */
    cursor: default;
    transform: scale(1);
    box-shadow: none;
  }

  .card.wrong {
    background: var(--wrong-background);
    color: var(--theme-white); /* White text on red background */
    animation: shake 0.5s;
  }

  #next-round {
    margin-top: 30px;
    padding: 12px 25px;
    font-size: 16px;
    font-weight: bold;
    color: var(--theme-white);
    background-color: var(--theme-red); /* Use theme red for the button */
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    display: none;
    transition: background-color 0.2s;
  }

  #next-round:hover {
    background-color: #a8222c; /* A darker red for hover */
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  @media (max-width: 700px) {
    .game-container {
      flex-direction: column;
      gap: 40px;
    }
    .column {
      min-width: unset;
      width: 100%;
    }
    body {
        padding: 15px;
    }
  }

</style>
</head>
<body>

<h1>Italian Flashcard Matching</h1>
<div class="game-container">
  <div class="column" id="english-column"></div>
  <div class="column" id="italian-column"></div>
</div>
<button id="next-round">Next Round</button>

<script>
const words = [
["Avere", "To have"],
["Fare", "To do"],
["Andare", "To go"],
["Potere", "To be able to"],
["Dare", "To give"],
["Volere", "To want"],
["Venire", "To come"],
["Dovere", "To have to"],
["Stare", "To stay/ to remain/ to be"],
["Dire", "To say"],
["Sapere", "To know"],
["Vedere", "To see"],
["Mangiare", "To eat"],
["Parlare", "To speak"],
["Uscire", "To go out"],
["Prendere", "To take"],
["Piacere", "To like"],
["Leggere", "To read"],
["Amare", "To love"],
["Bere", "To drink"],
["Finire", "To finish"],
["Capire", "To understand"],
["Arrivare", "to arrive"],
["Scrivere", "To write"],
["Partire", "To leave"],
["Mettere", "To put"],
["Rimanere", "To remain"],
["Dormire", "To sleep"],
["Vivere", "To live"],
["Conoscere", "To know (be acquainted or familiar with something or someone)"],
["Sentire", "To hear"],
["Cucinare", "To cook"],
["Studiare", "To study"],
["Giocare", "To play"],
["Chiedere", "To ask"],
["Trovare", "To find"],
["Credere", "To believe"],
["Aprire", "To open"],
["Lavorare", "To work"],
["Pensare", "To think"],
["Correre", "To run"],
["Tenere", "To hold"],
["Guardare", "To watch"],
["Chiamare", "To call"],
["Tornare", "To return"],
["Salire", "To go up"],
["Preferire", "To prefer"],
["Morire", "To die"],
["Aspettare", "To wait"],
["Comprare", "To buy"],
["Nascere", "To be born"],
["Cercare", "To look for"],
["Perdere", "To loose"],
["Cantare", "To sing"],
["Passare", "To pass"],
["Cominciare", "To begin"],
["Ascoltare", "To listen to"],
["Riuscire", "To be able to"],
["Decidere", "To decide"],
["Abitare", "To inhabit"],
["Cadere", "To fall"],
["Chiudere", "To close"],
["Lasciare", "To leave"],
["Scegliere", "To choose"],
["Portare", "To bring"],
["Ricevere", "To receive"],
["Lavare", "To clean"],
["Rispondere", "To respond"],
["Sedere", "To sit"],
["Vincere", "To win"],
["Pagare", "To pay"],
["Alzare", "To get up"],
["Ridere", "To laugh"],
["Scendere", "To descend"],
["Incontrare", "To encounter"],
["Offrire", "To offer"],
["Imparare", "To learn"],
["Dimenticare", "To forget"],
["Svegliare", "To wake up"],
["Crescere", "To grow"],
["Vendere", "To sell"],
["Divertire", "To amuse"],
["Diventare", "To become"],
["Porre", "To place"],
["Entrare", "To enter"],
["Temere", "To fear"],
["Pulire", "To clean"],
["Vestire", "To dress"],
["Seguire", "To follow"],
["Restare", "To stay"],
["Cambiare", "To change"],
["Viaggiare", "To travel"],
["Spegnere", "To turn off"],
["Ricordare", "To remember"],
["Apparire", "To appear"],
["Aiutare", "To help"],
["Tacere", "To be silent"],
["Spedire", "To send"],
["Preparare", "To prepare"],
["Consentire", "To consent"],
["Infastidire", "To annoy"],
["Discutere", "To argue"],
["Tentare", "To tempt"],
["Attirare", "To attract"],
["Appartenere", "To belong"],
["Acquistare", "To purchase"],
["Catturare", "To capture"],
["Festeggiare", "To celebrate"],
["Confrontare", "To confront"],
["Sognare", "To dream"],
["Guadagnare", "To earn"],
["Volare", "To fly"],
["Salutare", "To greet"],
["Appendere", "To hang"],
["Sperare", "To hope"],
["Informare", "To inform"],
["Presentare", "To present"],
["Saltare", "To jump"],
["Invitare", "To invite"],
["Baciare", "To kiss"],
["Mancare", "To miss"],
["Mentire", "To lie"],
["Sposare", "To marry"],
["Traslocare", "To move"],
["Bisognare", "To need"],
["Pingere", "To paint"],
["Vietare", "To forbid"],
["Tirare", "To throw/ to pull"],
["Calcolare", "To calculate"],
["Affittare", "To rent"],
["Riparare", "To fix"],
["Condividere", "To share"],
["Gridare", "To yell"],
["Mostrare", "To display"],
["Spendere", "To spend"],
["Sorridere", "To smile"],
["Fumare", "To smoke"],
["Assaggiare", "To taste"],
["Lanciare", "To launch"],
["Nuotare", "To swim"],
["Indossare", "To wear"],
["Augurare", "To express good wishes"],
["Ringraziare", "To thank"],
["Ballare", "To dance"],
["Camminare", "To walk"],
["Aggiungere", "To add"],
["Annoiare", "To bore"],
["Abbassare", "To lower"],
["Adorare", "To adore"],
];

let currentWords = [];
let selectedEnglish = null;
let matchesLeft = 0;

document.addEventListener("DOMContentLoaded", startNewRound);
document.getElementById("next-round").addEventListener("click", startNewRound);

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function startNewRound() {
  document.getElementById("next-round").style.display = "none";
  const shuffledWords = shuffle([...words]);
  // Updated to show 8 cards per round
  currentWords = shuffledWords.slice(0, 8);
  matchesLeft = currentWords.length;
  
  const englishCol = document.getElementById("english-column");
  const italianCol = document.getElementById("italian-column");
  englishCol.innerHTML = "";
  italianCol.innerHTML = "";

  const englishShuffled = shuffle([...currentWords]);
  const italianShuffled = shuffle([...currentWords]);

  englishShuffled.forEach(([en, it]) => {
    const enCard = document.createElement("div");
    enCard.className = "card";
    enCard.textContent = en;
    enCard.dataset.match = it;
    enCard.addEventListener("click", () => selectEnglish(enCard));
    englishCol.appendChild(enCard);
  });

  italianShuffled.forEach(([en, it]) => {
    const itCard = document.createElement("div");
    itCard.className = "card";
    itCard.textContent = it;
    itCard.dataset.match = it;
    itCard.addEventListener("click", () => selectItalian(itCard));
    italianCol.appendChild(itCard);
  });
}

function selectEnglish(card) {
  if (card.classList.contains("correct")) return;
  document.querySelectorAll("#english-column .card").forEach(c => c.classList.remove("selected"));
  selectedEnglish = card;
  card.classList.add("selected");
}

function selectItalian(card) {
  if (!selectedEnglish || card.classList.contains("correct")) return;

  if (selectedEnglish.dataset.match === card.dataset.match) {
    selectedEnglish.classList.add("correct");
    card.classList.add("correct");
    selectedEnglish.classList.remove("selected");
    selectedEnglish = null;
    matchesLeft--;
    if (matchesLeft === 0) {
      document.getElementById("next-round").style.display = "inline-block";
    }
  } else {
    card.classList.add("wrong");
    setTimeout(() => card.classList.remove("wrong"), 500);
  }
}
</script>

</body>
</html>